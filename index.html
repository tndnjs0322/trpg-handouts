<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Cards — Left Image · Right Empty Panel · Vertical Title</title>
<link rel="stylesheet" href="https://unpkg.com/normalize.css" />
<style>
  :root{
    --bg:#0d1a1f;
    --gap:10px;
    --base:clamp(2rem,6vw,80px);
    --speed:.6s;
    --easing:cubic-bezier(.2,.8,.2,1);
    --ring:rgba(0,200,220,.22);
    --shadow:0 10px 30px rgba(0,0,0,.4);
    --card-glass:rgba(255,255,255,.06);
    --card-border:rgba(255,255,255,.14);
    --card-bg:#0f1b20;          /* 오른쪽 패널 색 */
    --panel-bg:rgba(8,12,14,.9); /* 본문 배경 필요 없으면 투명으로 */
    --caret:#e6eef2;

    /* ← 오른쪽 패널 시작 X 위치(왼쪽 이미지 폭) */
    --split: clamp(46%, 520px, 62%);
  }
  html{color-scheme:dark light}
  body{
    margin:0; min-height:100svh; background:var(--bg); color:#e6eef2;
    display:grid; place-items:start center; gap:1.5rem; padding:2rem 1rem 3rem;
    font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;
  }

  /* 움직이는 점(은은) — 카드 내부엔 영향 없도록 z-index 뒤로 */
  #bg-dots{position:fixed; inset:0; z-index:-1; pointer-events:none}
  @media (prefers-reduced-motion:reduce){#bg-dots{display:none}}

  /* 상단 제목: 첫 방문만 타이핑 후 고정 */
  h1{margin:0; font-weight:800; letter-spacing:.02em; font-size:clamp(28px,6vw,72px); text-transform:lowercase; opacity:0; transition:opacity .4s}
  h1.show{opacity:1}
  .desc{margin:0; opacity:.8; width:74ch; max-width:calc(100% - 4rem); text-wrap:balance; line-height:1.5}

  /* 리스트/카드 */
  ul#cards{
    display:grid; grid-template-columns:repeat(7,1fr); gap:var(--gap);
    list-style:none; padding:0; margin:0; width:min(1100px,calc(100% - 2rem));
    height:clamp(320px,42dvh,480px);
    transition:grid-template-columns var(--speed) var(--easing);
  }
  ul#cards>li{
    position:relative; min-width:var(--base); border-radius:14px; overflow:hidden; cursor:pointer;
    background:var(--card-glass); border:1px solid var(--card-border); backdrop-filter:blur(8px) saturate(120%);
    box-shadow:var(--shadow);
  }
  ul#cards>li[data-active="true"]{ background:var(--card-bg); border-color:rgba(255,255,255,.08); backdrop-filter:none }

  article{
    position:absolute; inset:0; height:100%; padding:1rem; display:flex; flex-direction:column; justify-content:flex-start; gap:.9rem; isolation:isolate;
  }

  /* 왼쪽 = 이미지(고정), 오른쪽 = 단색 패널(하드 스플릿) */
  article img{
    position:absolute; inset:0; width:100%; height:100%; object-fit:cover; z-index:0; pointer-events:none;
    opacity:0; filter:grayscale(1) brightness(1.6);
    transition:opacity calc(var(--speed)*1.2) var(--easing), filter calc(var(--speed)*1.2) var(--easing);
  }
  li[data-active="true"] article img{opacity:1; filter:grayscale(0) brightness(1)}
  /* 패널 오버레이: split 기준으로 오른쪽을 단색으로 채움(깨끗한 경계) */
  article::after{
    content:""; position:absolute; inset:0; z-index:1; pointer-events:none;
    background:
      linear-gradient(to right,
        transparent 0, transparent var(--split),
        var(--card-bg) var(--split), var(--card-bg) 100%);
  }

  /* ✅ 제목은 항상 세로(책등). 펼침 상태에서도 그대로 유지 */
  .title-spine{
    position:absolute; top:1rem; left:calc(var(--base)*.44);
    transform-origin:0 50%; rotate:90deg; z-index:2; pointer-events:none;
    margin:0; font-size:.95rem; font-weight:800; letter-spacing:.08em; text-transform:uppercase;
    color:rgba(230,238,242,.96); text-shadow:0 1px 0 rgba(0,0,0,.5);
  }

  /* 가로 제목은 사용하지 않음(완전 숨김) */
  .title-main{display:none}

  /* 오른쪽 패널 컨텐츠(본문, CTA) */
  li[data-active="true"] article{ --copy-left: calc(var(--split) + 1rem) } /* 우측 패널 시작 + 여백 */

  .body-main{
    margin: .25rem 1rem 0 var(--copy-left);
    max-width: calc(100% - var(--copy-left) - 1.25rem);
    color:#eaf3f6; font-size:15px; line-height:1.6; text-wrap:pretty;
    /* 패널 위에 글자만 놓고 싶다면 아래 3줄 주석 처리 */
    background:var(--panel-bg); border:1px solid rgba(255,255,255,.06); border-radius:10px; padding:.85rem .95rem;
    opacity:0; visibility:hidden; transition:opacity .25s var(--easing), visibility .25s var(--easing); z-index:2;
    max-height: min(44dvh, calc(100% - 6.5rem)); overflow:auto; scrollbar-width:none; -ms-overflow-style:none;
  }
  .body-main::-webkit-scrollbar{display:none}
  li[data-active="true"] .body-main{opacity:1; visibility:visible}

  .cta{
    position:absolute; left: var(--copy-left); bottom: .9rem; z-index:2;
    color:inherit; text-decoration:none; height:18px; line-height:18px; opacity:0; transition:opacity .35s var(--easing) .2s;
  }
  .cta span{ text-underline-offset:4px }
  .cta:is(:hover,:focus-visible) span{ text-decoration:underline }
  li[data-active="true"] .cta{opacity:1}

  /* 포커스 표시 */
  ul#cards>li:focus-visible{ outline:3px solid var(--ring); outline-offset:2px }

  /* JS fallback */
  ul#cards:not(.js-ready) li:hover article img{opacity:1; filter:grayscale(0) brightness(1)}
  ul#cards:not(.js-ready) li:hover .body-main{opacity:1; visibility:visible}

  /* (가끔) 세로제목 글리치 1% */
  .glitch{ animation:glitch 380ms steps(2,end) 2 }
  @keyframes glitch{
    0%{ transform:translate(0) rotate(90deg); text-shadow:none }
    20%{ transform:translate(-1px,1px) rotate(90deg) skew(1deg); text-shadow:1px 0 #7af,-1px 0 #0ff }
    40%{ transform:translate(1px,-1px) rotate(90deg) skew(-1deg); text-shadow:-1px 0 #f66,1px 0 #0ff }
    60%{ transform:translate(-1px,0) rotate(90deg); text-shadow:1px 0 #fff,-1px 0 #0ff }
    80%{ transform:translate(0,1px) rotate(90deg); text-shadow:-1px 0 #7af,1px 0 #fff }
    100%{ transform:translate(0) rotate(90deg); text-shadow:none }
  }
</style>
</head>
<body>
  <!-- 배경: 은은하게 움직이는 점 -->
  <canvas id="bg-dots" aria-hidden="true"></canvas>

  <h1 data-title="the craft of ui">the craft of ui</h1>
  <p class="desc">
    Unlock the art and science of interface development. This isn’t just about pushing pixels or following documentation —
    it’s about mastering the tools, understanding the nuances, and shaping experiences with intention.
  </p>

  <ul id="cards">
    <li><article>
      <h3 class="title-spine">THE CRAFT</h3>
      <h3 class="title-main" data-skip="true"></h3>
      <p class="body-main" data-text="Gain the confidence to build anything you envision, transforming motion, interaction, and design principles into second nature."></p>
      <a href="#" class="cta"><span>Watch now</span></a>
      <img src="https://picsum.photos/1280/800?random=12" alt="">
    </article></li>
    <li><article>
      <h3 class="title-spine">CSS ANIMATION</h3>
      <h3 class="title-main" data-skip="true"></h3>
      <p class="body-main" data-text="Master CSS animations from your very first set of @keyframes right through to things no one else ever teaches you."></p>
      <a href="#" class="cta"><span>Watch now</span></a>
      <img src="https://picsum.photos/1280/800?random=17" alt="">
    </article></li>
    <li><article>
      <h3 class="title-spine">SVG FILTERS</h3>
      <h3 class="title-main" data-skip="true"></h3>
      <p class="body-main" data-text="Shaders on a budget. Learn how to use noise to your advantage whilst making flames and stickers."></p>
      <a href="#" class="cta"><span>Watch now</span></a>
      <img src="https://picsum.photos/1280/800?random=19" alt="">
    </article></li>
    <li><article>
      <h3 class="title-spine">SCROLL ANIMATION</h3>
      <h3 class="title-main" data-skip="true"></h3>
      <p class="body-main" data-text="Take your users on a journey with the joy of tasteful scroll animation. You might not even need JavaScript."></p>
      <a href="#" class="cta"><span>Watch now</span></a>
      <img src="https://picsum.photos/1280/800?random=42" alt="">
    </article></li>
    <li><article>
      <h3 class="title-spine">TAMING CANVAS</h3>
      <h3 class="title-main" data-skip="true"></h3>
      <p class="body-main" data-text="Grasp how to tame the pixel playground and when to do so. Whilst building with 'Performance Driven Development'."></p>
      <a href="#" class="cta"><span>Watch now</span></a>
      <img src="https://picsum.photos/1280/800?random=128" alt="">
    </article></li>
    <li><article>
      <h3 class="title-spine">LAYOUT TRICKS</h3>
      <h3 class="title-main" data-skip="true"></h3>
      <p class="body-main" data-text="Do you really need a library for that? Sometimes stepping back and rethinking the problem yields a nifty solution."></p>
      <a href="#" class="cta"><span>Watch now</span></a>
      <img src="https://picsum.photos/1280/800?random=56" alt="">
    </article></li>
    <li><article>
      <h3 class="title-spine">MASTERING TIME</h3>
      <h3 class="title-main" data-skip="true"></h3>
      <p class="body-main" data-text="It's not all just easings and compositions. Time plays a crucial part in various UI patterns that might not seem obvious at first."></p>
      <a href="#" class="cta"><span>Watch now</span></a>
      <img src="https://picsum.photos/1280/800?random=39" alt="">
    </article></li>
  </ul>

<script>
  /* 메인 타이틀: 첫 방문만 타이핑 */
  (function(){
    const h1=document.querySelector('h1');
    if(!h1) return;
    const text=h1.dataset.title||h1.textContent.trim();
    const seen=sessionStorage.getItem('__intro_title_typed__')==='1';
    const reduce=matchMedia?.('(prefers-reduced-motion: reduce)').matches??false;
    function show(){h1.classList.add('show')}
    function typeOnce(speed=38){
      h1.textContent=''; h1.classList.add('typing'); show();
      const chars=[...text]; let i=0;
      const id=setInterval(()=>{
        if(i>=chars.length){clearInterval(id); h1.classList.remove('typing'); sessionStorage.setItem('__intro_title_typed__','1'); return;}
        h1.append(chars[i++]);
      },speed);
    }
    if(reduce||seen){h1.textContent=text; show();} else {typeOnce();}
  })();

  /* 카드 인터랙션: 세로제목 유지, 본문만 한 번 타이핑 */
  (function(){
    const list=document.getElementById('cards'); if(!list) return;
    list.classList.add('js-ready');
    const items=[...list.children];
    const show=el=>{el&&(el.style.visibility='visible',el.style.opacity='1')};
    const hide=el=>{el&&(el.style.visibility='hidden',el.style.opacity='0')};
    const timers=new WeakMap();
    function stopTyping(el){const t=timers.get(el); if(t){clearInterval(t); timers.delete(el);}}
    function typeIn(el,text,speed=22,done){
      if(!el) return;
      if(el.dataset.typed==='true'){el.textContent=text; show(el); done&&done(); return;}
      stopTyping(el); el.textContent=''; show(el); el.classList.add('typing');
      const chars=[...text]; let i=0;
      const id=setInterval(()=>{
        if(i>=chars.length){clearInterval(id); timers.delete(el); el.classList.remove('typing'); el.dataset.typed='true'; done&&done(); return;}
        const ch=chars[i++]; ch==='\n'?el.appendChild(document.createElement('br')):el.append(ch);
      },speed);
      timers.set(el,id);
    }
    function collapse(){
      items.forEach(li=>{
        li.dataset.active='false';
        const body=li.querySelector('.body-main'), cta=li.querySelector('.cta');
        stopTyping(body); hide(body); if(cta) cta.style.opacity=0;
      });
      list.style.gridTemplateColumns=`repeat(${items.length},1fr)`;
    }
    function activate(i){
      items.forEach((el,idx)=>el.dataset.active=(idx===i).toString());
      list.style.gridTemplateColumns=items.map((_,idx)=>idx===i?'10fr':'1fr').join(' ');
      const li=items[i], body=li.querySelector('.body-main'), cta=li.querySelector('.cta');
      const text=body.dataset.text||body.textContent||'';
      const spine=li.querySelector('.title-spine');
      if(Math.random()<0.01 && spine){spine.classList.add('glitch'); spine.addEventListener('animationend',()=>spine.classList.remove('glitch'),{once:true});}
      if(body.dataset.typed==='true'){body.textContent=text; show(body); if(cta) cta.style.opacity=1;}
      else{typeIn(body,text,14,()=>{if(cta) cta.style.opacity=1;});}
    }
    const handler=e=>{
      const li=e.target.closest('li'); if(!li||!list.contains(li)){collapse(); return;}
      activate(items.indexOf(li));
    };
    ['pointermove','mouseover','click','focusin','touchstart'].forEach(evt=>list.addEventListener(evt,handler,{passive:true}));
    ['pointerleave','mouseleave'].forEach(evt=>list.addEventListener(evt,collapse));
    list.addEventListener('focusout',e=>{ if(!list.contains(e.relatedTarget)) collapse(); });
    const resync=()=>{const w=Math.max(280,...items.map(i=>Math.round(i.getBoundingClientRect().width))); list.style.setProperty('--article-width',w);};
    addEventListener('resize',resync); resync(); collapse();
  })();

  /* 배경 점 */
  (function(){
    const cvs=document.getElementById('bg-dots'); if(!cvs) return;
    const ctx=cvs.getContext('2d',{alpha:true}); let W=0,H=0,DPR=1,pts=[],last=0,raf=0;
    const OPT={density:0.00007,min:70,max:160,r:[0.7,2.4],v:[3,12],a:[0.05,0.18],hz:[.1,.25],blur:6};
    const reduce=matchMedia?.('(prefers-reduced-motion: reduce)').matches??false;
    const rnd=(a,b)=>a+Math.random()*(b-a);
    function resize(){DPR=Math.min(2,devicePixelRatio||1); W=cvs.width=Math.floor(innerWidth*DPR); H=cvs.height=Math.floor(innerHeight*DPR); cvs.style.width=innerWidth+'px'; cvs.style.height=innerHeight+'px'; spawn();}
    function spawn(){const area=innerWidth*innerHeight; const n=Math.max(OPT.min,Math.min(OPT.max,Math.round(area*OPT.density)));
      pts=Array.from({length:n},()=>{const r=rnd(OPT.r[0],OPT.r[1])*DPR, sp=rnd(OPT.v[0],OPT.v[1])*DPR, a=Math.random()*Math.PI*2;
        return {x:Math.random()*W,y:Math.random()*H,r,vx:Math.cos(a)*sp,vy:Math.sin(a)*sp,h:190+Math.random()*20,s:22+Math.random()*20,l:75+Math.random()*10,a:rnd(OPT.a[0],OPT.a[1]),ph:Math.random()*Math.PI*2,f:rnd(OPT.hz[0],OPT.hz[1])*2*Math.PI};});}
    function frame(t){const dt=Math.min(.05,(t-(last||t))/1000); last=t; ctx.clearRect(0,0,W,H); ctx.globalCompositeOperation='lighter';
      for(const p of pts){p.ph+=p.f*dt; const tw=.5+.5*Math.sin(p.ph); const al=p.a*(.7+.3*tw);
        ctx.shadowColor=`hsla(${p.h} ${p.s}% ${p.l}% / ${al*1.3})`; ctx.shadowBlur=OPT.blur*DPR; ctx.fillStyle=`hsla(${p.h} ${p.s}% ${p.l}% / ${al})`;
        ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fill();
        p.x+=p.vx*dt; p.y+=p.vy*dt; if(p.x<-5)p.x=W+5; else if(p.x>W+5)p.x=-5; if(p.y<-5)p.y=H+5; else if(p.y>H+5)p.y=-5;}
      raf=requestAnimationFrame(frame);}
    function start(){cancelAnimationFrame(raf); resize(); if(reduce){ctx.clearRect(0,0,W,H); for(const p of pts){ctx.fillStyle=`hsla(${p.h} ${p.s}% ${p.l}% / ${p.a})`; ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fill();} return;} raf=requestAnimationFrame(frame);}
    addEventListener('resize',resize); start();
  })();
</script>
</body>
</html>
