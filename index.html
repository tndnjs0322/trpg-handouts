<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>the craft of ui — book cards (vertical ↔ horizontal title)</title>
  <meta name="description" content="서재 느낌 카드 UI. 비활성: 세로쓰기 세리프 제목 / 활성: 가로쓰기 제목. 타이핑 헤드라인, 심해 안개 배경, 책이 펼쳐지는 효과, 겹침 방지 포함." />

  <!-- Normalize -->
  <link rel="preconnect" href="https://unpkg.com">
  <link rel="stylesheet" href="https://unpkg.com/normalize.css@8.0.1/normalize.css">

  <!-- Fonts: Headline Serif + Body Sans (KR/EN) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@400;600;700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable.min.css">

  <style>
    /* ===================== Theme / Tokens ===================== */
    :root{
      --font-heading: "Noto Serif KR","Noto Serif",serif;
      --font-body: "Pretendard Variable","Pretendard","Noto Sans KR",system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
      --glow-rgb: 79,255,212;

      --gap: 8px;
      --base: clamp(2rem, 8cqi, 80px);
      --easing: cubic-bezier(.2,.8,.2,1);
      --speed: .6s;
    }
    html{ color-scheme: light dark; text-rendering: optimizeLegibility; }
    *,*::before,*::after{ box-sizing: border-box; }

    /* ===================== Background: Mist Horizon ===================== */
    body{
      font-family: var(--font-body);
      letter-spacing: .01em; line-height: 1.6;
      -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;

      min-height: 100vh;
      display: grid; place-items: start center;
      gap: 1rem;
      padding-block: 2.5rem 4rem;

      position: relative; overflow-x: clip;

      background:
        radial-gradient(80% 50% at 50% 0%, rgba(18,56,76,.12), transparent 65%),
        radial-gradient(70% 55% at 50% 100%, rgba(6,30,46,.10), transparent 65%),
        linear-gradient(180deg, #08131a 0%, #060d13 60%, #020609 100%);
    }
    /* drifting mist */
    body::before{
      content:""; position: fixed; inset: -12% -8%;
      pointer-events:none; z-index:0;
      background:
        radial-gradient(60% 40% at 55% 10%, rgba(210,255,255,.06), transparent 60%),
        radial-gradient(65% 45% at 45% 95%, rgba(120,200,220,.05), transparent 60%);
      filter: blur(10px) contrast(1.02);
      mix-blend-mode: screen; opacity:.65;
      animation: abyssFog 46s ease-in-out infinite alternate;
    }
    /* tiny motes */
    body::after{
      content:""; position: fixed; inset:0; pointer-events:none; z-index:0; opacity:.22;
      mix-blend-mode: screen;
      background-image:
        url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='120' height='120'><g fill='white' opacity='0.38'><circle cx='12' cy='20' r='1.1'/><circle cx='48' cy='36' r='0.9'/><circle cx='88' cy='18' r='1.2'/><circle cx='22' cy='72' r='1.0'/><circle cx='66' cy='82' r='0.8'/><circle cx='98' cy='60' r='0.9'/><circle cx='40' cy='102' r='0.9'/><circle cx='8' cy='96' r='0.7'/></g></svg>"),
        url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='160' height='160'><g fill='white' opacity='0.28'><circle cx='22' cy='26' r='1.4'/><circle cx='94' cy='40' r='1.6'/><circle cx='132' cy='22' r='1.3'/><circle cx='56' cy='116' r='1.5'/><circle cx='144' cy='96' r='1.2'/><circle cx='26' cy='144' r='1.3'/></g></svg>");
      background-repeat: repeat, repeat;
      background-size: 220px 220px, 300px 300px;
      background-position: 0 0, 120px 90px;
      animation: abyssMotes 90s linear infinite;
    }
    @media (prefers-reduced-motion: reduce){ body::before, body::after{ animation:none; } }
    @keyframes abyssFog{
      0%{ transform: translate3d(0,-1.5%,0) scale(1.02) rotate(.2deg); }
      50%{ transform: translate3d(0, 1.5%,0) scale(1.04) rotate(0deg); }
      100%{ transform: translate3d(0,-1.2%,0) scale(1.01) rotate(-.2deg); }
    }
    @keyframes abyssMotes{
      0%{ background-position: 0 0, 120px 90px; }
      100%{ background-position: 0 -900px, 120px -1200px; }
    }

    /* ===================== Typing Headline ===================== */
    #title{
      margin: 0;
      font-family: var(--font-heading);
      font-weight: 700;
      letter-spacing: .02em;
      font-size: clamp(24px, 6vw, 48px);
      color: #eaf2f9;
      z-index: 1;
    }
    #title.typing::after{
      content:""; display:inline-block; width:2px; height:.9em; margin-left:2px;
      background:currentColor; animation: caret 1s steps(1) infinite; vertical-align:-.1em;
    }
    .typing-char{
      display:inline-block; opacity:0; transform:translateY(.32em) rotate(var(--r,-3deg)) scale(.98);
      filter:blur(var(--b,1.2px));
      animation: typeIn .42s cubic-bezier(.2,.8,.2,1) forwards, glow 1.8s ease-out forwards;
    }
    @keyframes caret{ 50%{opacity:0} }
    @keyframes typeIn{ to{opacity:1; transform:translateY(0) rotate(0) scale(1); filter:blur(0)} }
    @keyframes glow{
      0%{ text-shadow: 0 0 .60em rgba(var(--glow-rgb), .40), 0 0 .18em rgba(var(--glow-rgb), .25); }
      65%{ text-shadow: 0 0 .40em rgba(var(--glow-rgb), .28); }
      100%{ text-shadow: 0 0 .25em rgba(var(--glow-rgb), .18); }
    }

    /* ===================== Intro paragraph ===================== */
    .intro{
      margin: 0;
      width: 74ch; max-width: calc(100% - 4rem);
      text-wrap: balance;
      color: #cfe0ee;
      z-index: 1;
      text-align: center;
    }

    /* ===================== Grid + Book Cards ===================== */
    ul{
      list-style: none; padding: 0; margin: 2rem 0 0;
      width: 820px; max-width: calc(100% - 4rem);
      height: clamp(300px, 40dvh, 474px);
      display: grid; container-type: inline-size;
      grid-template-columns: 10fr 1fr 1fr 1fr 1fr 1fr 1fr;
      gap: var(--gap);
      transition: grid-template-columns var(--speed) var(--easing);
      z-index: 1;
    }
    li{
      position: relative; overflow: visible; min-width: var(--base);
      border-radius: 10px; border: 1px solid rgba(255,255,255,.14);
      background: #0a0f14;
      perspective: 1200px; transform-style: preserve-3d;
      box-shadow: 0 10px 26px rgba(0,0,0,.35);
    }

    article.book{
      --cover:#0d141c;
      --cover-edge:#0f1a23;
      --paper:#0e151c;

      position:absolute; inset:0; border-radius:10px; overflow:hidden;
      transform-style: preserve-3d;
      color:#eaf4ff;
    }

    /* 내용 */
    .book .content{
      position:absolute; inset:0; padding:12px 14px 14px; z-index:1;
      display:flex; flex-direction:column; justify-content:flex-end; gap:.7rem;
      background:
        linear-gradient(180deg, rgba(255,255,255,.02), rgba(0,0,0,.2)),
        radial-gradient(120% 90% at 80% 10%, rgba(255,255,255,.08), transparent 60%),
        var(--paper);
    }
    .book .content img{
      position:absolute; inset:0; width:100%; height:100%; object-fit:cover; opacity:.35;
      filter:grayscale(.2) contrast(1.05); mix-blend-mode: luminosity; z-index:-1;
    }

    /* -------- 제목 전환 로직 --------
       - 기본(비활성): 표지에 '세로쓰기' 제목 표시 (세리프)
       - 활성(호버/포커스): 표지 세로 제목은 사라지고, 내부에 '가로쓰기' 제목 등장 */
    /* 표지 세로 제목(비활성용) */
    .book .cover::before{
      content: attr(data-title);
      position: absolute; left: 12px; top: 10px;
      /* 진짜 세로쓰기 */
      writing-mode: vertical-rl;
      text-orientation: mixed;
      /* 폰트/룩 */
      font-family: var(--font-heading);
      font-weight: 600;
      font-size: .95rem;
      letter-spacing: .08em;
      color: rgba(255,255,255,.78);
      pointer-events: none;
      /* 애니메이션 */
      opacity: .85;
      transition: opacity .35s var(--easing), transform .35s var(--easing);
    }
    /* 활성 시: 표지 세로 제목 페이드아웃 */
    li[data-active="true"] .book .cover::before{
      opacity: 0;
      transform: translateX(-6px);
    }

    /* 내부 가로 제목(활성용) */
    .book .content h3{
      position: absolute; top: 12px; left: 16px; right: 16px;
      margin: 0;
      font-family: var(--font-heading);
      font-weight: 700;
      letter-spacing: .02em;
      font-size: 1rem;
      /* 처음엔 살짝 숨겨두고 활성화 때 등장 */
      opacity: 0;
      transform: translateY(-6px);
      transition: opacity .35s var(--easing), transform .45s var(--easing);
    }
    li[data-active="true"] .book .content h3{
      opacity: 1;
      transform: translateY(0);
    }

    .book .content p{
      font-family: var(--font-body); font-weight: 400; font-size: 14.5px; line-height:1.45; opacity:.9; margin:0;
    }
    .book .content a{ color:inherit; font-weight:600; width:fit-content; text-decoration:none; }
    .book .content a:is(:hover,:focus-visible){ text-decoration:underline; text-underline-offset:4px; }

    /* 페이지 스택 */
    .book .pages{
      position:absolute; inset:6px 6px 6px 10px; border-radius:8px; overflow:hidden;
      background:
        repeating-linear-gradient(90deg, rgba(255,255,255,.06) 0 1px, transparent 1px 3px),
        linear-gradient(180deg, rgba(255,255,255,.02), rgba(0,0,0,.18)),
        var(--paper);
      box-shadow: inset -10px 0 16px rgba(0,0,0,.25);
      transform: translateZ(12px);
    }

    /* 책 등 */
    .book::before{
      content:""; position:absolute; left:0; top:0; bottom:0; width:10px; border-radius:10px 0 0 10px;
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(0,0,0,.2)), #0b131a;
      box-shadow: inset -1px 0 0 rgba(255,255,255,.15), inset 1px 0 0 rgba(0,0,0,.5);
      transform: translateZ(25px);
    }

    /* 앞표지(열리는 파트) */
    .book .cover{
      position:absolute; inset:0; border-radius:10px;
      background:
        linear-gradient(180deg, rgba(255,255,255,.06), rgba(0,0,0,.25)),
        radial-gradient(120% 80% at 20% 10%, rgba(255,255,255,.10), transparent 60%),
        var(--cover);
      border:1px solid rgba(255,255,255,.15);
      transform-origin: left center;
      transform: translateZ(24px) rotateY(0deg);
      transition: transform .7s var(--easing), box-shadow .7s var(--easing), filter .7s var(--easing);
      box-shadow: 2px 0 0 var(--cover-edge), 0 6px 20px rgba(0,0,0,.35);
    }
    /* 표지 광택 */
    .book .cover::after{
      content:""; position:absolute; inset:-12% 40% -12% -40%;
      background: linear-gradient(90deg, transparent 0 30%, rgba(255,255,255,.18) 50%, transparent 70%);
      transform: skewX(-12deg); filter: blur(8px); opacity:.0; pointer-events:none;
      transition: opacity .6s var(--easing);
    }

    /* Hover: 책 열림 */
    li:hover .book .cover,
    li:focus-within .book .cover{
      transform: translateZ(24px) rotateY(-72deg);
      box-shadow: 18px 6px 28px rgba(0,0,0,.45);
      filter: brightness(1.02);
    }
    li:hover .book .cover::after{ opacity:.9; }

    /* -------- 겹침 방지: 활성 카드만 내용 보이기 -------- */
    li:not([data-active="true"]) .book .content {
      opacity: 0; visibility: hidden; pointer-events: none;
      transition: opacity .3s var(--easing), visibility 0s linear .3s;
    }
    li[data-active="true"] .book .content {
      opacity: 1; visibility: visible; transition-delay: 0s;
    }
  </style>
</head>
<body>
  <!-- 제목: 문구는 data-text에서 변경 -->
  <h1 id="title" data-text="the craft of ui" aria-label="the craft of ui"></h1>

  <p class="intro">
    Unlock the art and science of interface development. This isn’t just about pushing pixels or following documentation —
    it’s about mastering the tools, understanding the nuances, and shaping experiences with intention.
  </p>

  <ul>
    <li data-active="true">
      <article class="book">
        <div class="pages"></div>
        <div class="content">
          <h3>The Craft</h3>
          <p>Gain the confidence to build anything you envision, transforming motion, interaction, and design principles into second nature.</p>
          <a href="#"><span>Watch now</span></a>
          <img src="https://picsum.photos/720/720?random=12" alt="">
        </div>
        <!-- 비활성 시 보일 세로 제목은 data-title에 -->
        <div class="cover" data-title="THE CRAFT" aria-hidden="true"></div>
      </article>
    </li>

    <li>
      <article class="book">
        <div class="pages"></div>
        <div class="content">
          <h3>CSS Animation</h3>
          <p>Master CSS animations from your very first set of @keyframes right through to things no one else ever teaches you.</p>
          <a href="#"><span>Watch now</span></a>
        </div>
        <div class="cover" data-title="CSS ANIMATION" aria-hidden="true"></div>
      </article>
    </li>

    <li>
      <article class="book">
        <div class="pages"></div>
        <div class="content">
          <h3>SVG Filters</h3>
          <p>Shaders on a budget. Learn how to use noise to your advantage whilst making flames and stickers.</p>
          <a href="#"><span>Watch now</span></a>
        </div>
        <div class="cover" data-title="SVG FILTERS" aria-hidden="true"></div>
      </article>
    </li>

    <li>
      <article class="book">
        <div class="pages"></div>
        <div class="content">
          <h3>Scroll Animation</h3>
          <p>Take your users on a journey with the joy of tasteful scroll animation. You might not even need JavaScript.</p>
          <a href="#"><span>Watch now</span></a>
        </div>
        <div class="cover" data-title="SCROLL ANIMATION" aria-hidden="true"></div>
      </article>
    </li>

    <li>
      <article class="book">
        <div class="pages"></div>
        <div class="content">
          <h3>Taming Canvas</h3>
          <p>Grasp how to tame the pixel playground and when to do so. Whilst building with “Performance Driven Development”.</p>
          <a href="#"><span>Watch now</span></a>
        </div>
        <div class="cover" data-title="TAMING CANVAS" aria-hidden="true"></div>
      </article>
    </li>

    <li>
      <article class="book">
        <div class="pages"></div>
        <div class="content">
          <h3>Layout Tricks</h3>
          <p>Do you really need a library for that? Sometimes stepping back and rethinking the problem yields a nifty solution.</p>
          <a href="#"><span>Watch now</span></a>
        </div>
        <div class="cover" data-title="LAYOUT TRICKS" aria-hidden="true"></div>
      </article>
    </li>

    <li>
      <article class="book">
        <div class="pages"></div>
        <div class="content">
          <h3>Mastering Time</h3>
          <p>It's not all just easings and compositions. Time plays a crucial part in various UI patterns that might not seem obvious at first.</p>
          <a href="#"><span>Watch now</span></a>
        </div>
        <div class="cover" data-title="MASTERING TIME" aria-hidden="true"></div>
      </article>
    </li>
  </ul>

  <script>
    /* ===== Typing Title ===== */
    (function(){
      const el = document.getElementById('title');
      const full = (el.dataset.text || el.textContent || 'the craft of ui').trim();
      if (matchMedia('(prefers-reduced-motion: reduce)').matches){ el.textContent = full; return; }
      el.textContent = ''; el.classList.add('typing');
      let i=0; const base=55, jitter=70;
      function step(){
        const ch = full[i++]; const s=document.createElement('span');
        s.className='typing-char'; s.textContent=ch;
        s.style.setProperty('--r',(Math.random()*8-4).toFixed(2)+'deg');
        s.style.setProperty('--b',(Math.random()*1.2+.3).toFixed(2)+'px');
        el.appendChild(s);
        if(i<full.length) setTimeout(step, base + Math.random()*jitter);
        else el.classList.remove('typing');
      }
      setTimeout(step,350);
    })();

    /* ===== Grid spread on hover (activate one) ===== */
    const list = document.querySelector('ul');
    const items = list.querySelectorAll('li');

    function setIndex(e){
      const li = e.target.closest('li'); if(!li) return;
      const idx = [...items].indexOf(li);
      const cols = new Array(items.length).fill().map((_,i)=>{
        items[i].dataset.active = (i===idx).toString();
        return i===idx ? '10fr' : '1fr';
      }).join(' ');
      list.style.setProperty('grid-template-columns', cols);
    }
    list.addEventListener('pointermove', setIndex);
    list.addEventListener('click', setIndex);
    list.addEventListener('focus', setIndex, true);

    function resync(){
      const w = Math.max(...[...items].map(i=>i.offsetWidth));
      list.style.setProperty('--article-width', w);
    }
    addEventListener('resize', resync); resync();
  </script>
</body>
</html>
