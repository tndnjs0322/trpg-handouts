<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>네버엔딩 크툴루 1호점</title>
  <style>
    @import url('https://unpkg.com/normalize.css') layer(normalize);

    @layer normalize, base, demo;

    /* ===================== DEMO ===================== */
    @layer demo {
      body {
        background: light-dark(#fff, #000);
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        gap: 1rem;
        padding-block: 2rem;
      }

      h1, p { margin: 0; }

      /* fluid 크기 유지 */
      h1.fluid { --font-size-min: 22; --font-level: 4.25; }

      /* 타이핑 커서 */
      h1.fluid.typing {
        position: relative;
      }
      h1.fluid.typing::after {
        content: "";
        position: absolute;
        right: -0.06em;
        top: 50%;
        translate: 0 -48%;
        width: 2px;
        height: 0.9em;
        background: currentColor;
        animation: caret-blink 1s steps(1) infinite;
      }
      @keyframes caret-blink { 50% { opacity: 0; } }

      h3 { white-space: nowrap; margin: 0; }

      body > p {
        width: 74ch;
        max-width: calc(100% - 4rem);
        text-wrap: balance;
        font-family: monospace;
        margin-bottom: 4rem;
        line-height: 1.5;
        opacity: 0.8;
        font-weight: 400;
      }

      @media (max-width: 768px) { body > p { text-align: center; } }

      li :is(svg, h3) {
        opacity: 0.6;
        transition: opacity calc(var(--speed) * 1.2) var(--easing);
      }

      li :is(a, p) {
        opacity: 0;
        transition: opacity calc(var(--speed) * 1.2) var(--easing);
        width: fit-content;
      }

      li img {
        filter: grayscale(1) brightness(1.5);
        scale: 1.1;
        transition-property: filter, scale;
        transition-duration: calc(var(--speed) * 1.2);
        transition-timing-function: var(--easing);
      }

      [data-active='true'] :is(a, p, h3, svg) { opacity: var(--opacity, 1); }
      [data-active='true'] :is(a, p) { transition-delay: calc(var(--speed) * 0.25); }
      [data-active='true'] img {
        filter: grayscale(0) brightness(1);
        scale: 1;
        transition-delay: calc(var(--speed) * 0.25);
      }

      /* 카드 내부 */
      article {
        width: calc(var(--article-width) * 1px);
        height: 100%;
        position: absolute;
        font-family: monospace;
        top: 0; left: 0;
        display: flex; flex-direction: column; justify-content: flex-end;
        gap: 1rem;
        padding-inline: calc(var(--base) * 0.5 - 9px);
        padding-bottom: 1rem;
        overflow: hidden;
      }

      article h3 {
        position: absolute;
        top: 1rem; left: calc(var(--base) * 0.5);
        transform-origin: 0 50%;
        rotate: 90deg;
        font-size: 1rem; font-weight: 300;
        text-transform: uppercase; font-family: monospace;
      }
      article svg { width: 18px; fill: none; }
      article p { font-size: 13px; text-wrap: balance; line-height: 1.25; --opacity: 0.8; }

      article a {
        position: absolute; bottom: 1rem;
        height: 18px; line-height: 1; color: inherit;
      }
      article a:is(:focus-visible, :hover) { outline: none; }
      article a:is(:focus-visible, :hover) span {
        text-decoration: underline; text-underline-offset: 4px;
      }
      article a span {
        display: inline-block; line-height: 18px;
        translate: calc(var(--base) * 0.5);
        font-weight: 500;
      }
      article img {
        position: absolute; inset: 0;
        width: 100%; height: 100%; object-fit: cover;
        mask: radial-gradient(100% 100% at 100% 0, #fff, #0000);
      }

      /* 컨테이너 수학 */
      :root {
        --gap: 8px;
        --base: clamp(2rem, 8cqi, 80px);
        --easing: linear(
          0 0%,
          0.1538 4.09%,
          0.2926 8.29%,
          0.4173 12.63%,
          0.5282 17.12%,
          0.6255 21.77%,
          0.7099 26.61%,
          0.782 31.67%,
          0.8425 37%,
          0.8887 42.23%,
          0.9257 47.79%,
          0.9543 53.78%,
          0.9752 60.32%,
          0.9883 67.11%,
          0.9961 75%,
          1 100%
        );
        --speed: 0.6s;
      }

      ul {
        display: grid; container-type: inline-size;
        grid-template-columns: 10fr 1fr 1fr 1fr 1fr 1fr 1fr;
        gap: var(--gap); list-style: none; justify-content: center; padding: 0;
        height: clamp(300px, 40dvh, 474px);
        margin: 0;
        width: calc(((var(--items) - 1) * var(--base)) + ((var(--items) - 1) * var(--gap)) + var(--ideal));
        width: 820px; max-width: calc(100% - 4rem);
        transition: grid-template-columns var(--speed) var(--easing);
      }

      li {
        background: light-dark(#fff, #000);
        position: relative; overflow: hidden; min-width: var(--base);
        border-radius: 8px;
        border: 1px solid color-mix(in hsl, canvas, canvasText 50%);
      }
    }

    /* ===================== BASE ===================== */
    @layer base {
      :root {
        --font-size-min: 16;
        --font-size-max: 20;
        --font-ratio-min: 1.2;
        --font-ratio-max: 1.33;
        --font-width-min: 375;
        --font-width-max: 1500;
      }

      html { color-scheme: light dark; }
      [data-theme='light'] { color-scheme: light only; }
      [data-theme='dark']  { color-scheme: dark only; }

      :where(.fluid) {
        --fluid-min: calc(var(--font-size-min) * pow(var(--font-ratio-min), var(--font-level, 0)));
        --fluid-max: calc(var(--font-size-max) * pow(var(--font-ratio-max), var(--font-level, 0)));
        --fluid-preferred: calc((var(--fluid-max) - var(--fluid-min)) / (var(--font-width-max) - var(--font-width-min)));
        --fluid-type: clamp(
          (var(--fluid-min) / 16) * 1rem,
          ((var(--fluid-min) / 16) * 1rem) -
            (((var(--fluid-preferred) * var(--font-width-min)) / 16) * 1rem) +
            (var(--fluid-preferred) * var(--variable-unit, 100vi)),
          (var(--fluid-max) / 16) * 1rem
        );
        font-size: var(--fluid-type);
      }

      *, *::after, *::before { box-sizing: border-box; }

      body {
        display: grid; place-items: center; min-height: 100vh;
        font-family: 'SF Pro Text', 'SF Pro Icons', 'AOS Icons', 'Helvetica Neue',
          Helvetica, Arial, sans-serif, system-ui;
      }

      /* (원본) 배경 그리드가 필요 없으면 이 블록을 지워도 됨 */
      body::before {
        --size: 45px;
        --line: color-mix(in hsl, canvasText, transparent 70%);
        content: '';
        height: 100vh; width: 100vw; position: fixed;
        background:
          linear-gradient(90deg, var(--line) 1px, transparent 1px var(--size)) 50% 50% / var(--size) var(--size),
          linear-gradient(var(--line) 1px, transparent 1px var(--size)) 50% 50% / var(--size) var(--size);
        mask: linear-gradient(-20deg, transparent 50%, white);
        top: 0; transform-style: flat; pointer-events: none; z-index: -1;
      }
    }
  </style>
</head>
<body>
  <!-- 타이핑될 제목: data-text에 원문을 넣고, 화면엔 JS가 타이핑해 채움 -->
  <h1 id="title" class="fluid" data-text="the craft of ui" aria-label="the craft of ui"></h1>

  <p>
    Unlock the art and science of interface development. This isn’t just about
    pushing pixels or following documentation — it’s about mastering the
    tools, understanding the nuances, and shaping experiences with intention.
  </p>

  <ul>
    <li data-active="true">
      <article>
        <h3>The Craft</h3>
        <p>
          Gain the confidence to build anything you envision, transforming
          motion, interaction, and design principles into second nature.
        </p>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
             stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M6 3h12l4 6-10 13L2 9Z" />
          <path d="M11 3 8 9l4 13 4-13-3-6" />
          <path d="M2 9h20" />
        </svg>
        <a href="#"><span>Watch now</span></a>
        <img src="https://picsum.photos/720/720?random=12" alt="" />
      </article>
    </li>

    <li>
      <article>
        <h3>CSS Animation</h3>
        <p>
          Master CSS animations from your very first set of @keyframes right
          through to things no one else ever teaches you.
        </p>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
             fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect width="18" height="18" x="3" y="3" rx="2" />
          <path d="M7 3v18" />
          <path d="M3 7.5h4" />
          <path d="M3 12h18" />
          <path d="M3 16.5h4" />
          <path d="M17 3v18" />
          <path d="M17 7.5h4" />
          <path d="M17 16.5h4" />
        </svg>
        <a href="#"><span>Watch now</span></a>
        <img src="https://picsum.photos/720/720?random=17" alt="" />
      </article>
    </li>

    <li>
      <article>
        <h3>SVG Filters</h3>
        <p>
          Shaders on a budget. Learn how to use noise to your advantage whilst
          making flames and stickers.
        </p>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
             fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3" />
        </svg>
        <a href="#"><span>Watch now</span></a>
        <img src="https://picsum.photos/720/720?random=19" alt="" />
      </article>
    </li>

    <li>
      <article>
        <h3>Scroll Animation</h3>
        <p>
          Take your users on a journey with the joy of tasteful scroll
          animation. You might not even need JavaScript.
        </p>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
             fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M19 17V5a2 2 0 0 0-2-2H4" />
          <path d="M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3" />
        </svg>
        <a href="#"><span>Watch now</span></a>
        <img src="https://picsum.photos/720/720?random=42" alt="" />
      </article>
    </li>

    <li>
      <article>
        <h3>Taming Canvas</h3>
        <p>
          Grasp how to tame the pixel playground and when to do so. Whilst
          building with "Performance Driven Development".
        </p>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
             fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="13.5" cy="6.5" r=".5" fill="currentColor" />
          <circle cx="17.5" cy="10.5" r=".5" fill="currentColor" />
          <circle cx="8.5" cy="7.5" r=".5" fill="currentColor" />
          <circle cx="6.5" cy="12.5" r=".5" fill="currentColor" />
          <path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z" />
        </svg>
        <a href="#"><span>Watch now</span></a>
        <img src="https://picsum.photos/720/720?random=128" alt="" />
      </article>
    </li>

    <li>
      <article>
        <h3>Layout Tricks</h3>
        <p>
          Do you really need a library for that? Sometimes stepping back and
          rethinking the problem yields a nifty solution.
        </p>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
             fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72" />
          <path d="m14 7 3 3" />
          <path d="M5 6v4" />
          <path d="M19 14v4" />
          <path d="M10 2v2" />
          <path d="M7 8H3" />
          <path d="M21 16h-4" />
          <path d="M11 3H9" />
        </svg>
        <a href="#"><span>Watch now</span></a>
        <img src="https://picsum.photos/720/720?random=56" alt="" />
      </article>
    </li>

    <li>
      <article>
        <h3>Mastering Time</h3>
        <p>
          It's not all just easings and compositions. Time plays a crucial
          part in various UI patterns that might not seem obvious at first.
        </p>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
             fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M5 22h14" />
          <path d="M5 2h14" />
          <path d="M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22" />
          <path d="M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2" />
        </svg>
        <a href="#"><span>Watch now</span></a>
        <img src="https://picsum.photos/720/720?random=39" alt="" />
      </article>
    </li>
  </ul>

  <script>
    /* ===== 타이핑 효과 ===== */
    (function typeTitle(){
      const el = document.getElementById('title');
      const full = (el.dataset.text || el.textContent || 'the craft of ui').trim();

      // 접근성: 모션 최소화 환경이면 즉시 표시
      if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
        el.textContent = full;
        return;
      }

      el.textContent = '';
      el.classList.add('typing');

      let i = 0;
      const base = 55;          // 기본 타자 속도(ms)
      const jitter = 70;        // 랜덤 지터(ms)

      const step = () => {
        el.textContent += full[i++];
        if (i < full.length) {
          setTimeout(step, base + Math.random() * jitter);
        } else {
          // 타이핑 완료 후 커서 제거
          el.classList.remove('typing');
        }
      };

      // 살짝 지연 후 시작
      setTimeout(step, 350);
    })();

    /* ===== 카드 스프레드(hover/click/focus) ===== */
    const list = document.querySelector('ul');
    const items = list.querySelectorAll('li');

    function setIndex(event) {
      const closest = event.target.closest('li');
      if (!closest) return;
      const index = [...items].indexOf(closest);
      const cols = new Array(list.children.length)
        .fill()
        .map((_, i) => {
          items[i].dataset.active = (index === i).toString();
          return index === i ? '10fr' : '1fr';
        })
        .join(' ');
      list.style.setProperty('grid-template-columns', cols);
    }
    list.addEventListener('focus', setIndex, true);
    list.addEventListener('click', setIndex);
    list.addEventListener('pointermove', setIndex);

    function resync() {
      const w = Math.max(...[...items].map((i) => i.offsetWidth));
      list.style.setProperty('--article-width', w);
    }
    window.addEventListener('resize', resync);
    resync();
  </script>
</body>
</html>
