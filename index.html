<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Animated Hover Disclosures — tuned</title>
  <link rel="stylesheet" href="https://unpkg.com/normalize.css" />
  <style>
    :root{
      --gap:8px;
      --base: clamp(2rem, 8cqi, 80px);
      --easing: linear(0 0%, .1538 4.09%, .2926 8.29%, .4173 12.63%, .5282 17.12%, .6255 21.77%, .7099 26.61%, .782 31.67%, .8425 37%, .8887 42.23%, .9257 47.79%, .9543 53.78%, .9752 60.32%, .9883 67.11%, .9961 75%, 1 100%);
      --speed:.6s;
    }
    html{color-scheme:dark light}
    body{
      margin:0; min-height:100svh;
      display:grid; place-items:start center; gap:1.5rem;
      padding:2rem 1rem 3rem;
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
      background:#0d1a1f; color:#e6eef2;
      --size:45px; --line:color-mix(in hsl, canvasText, transparent 70%);
      position:relative;
    }
    body::before{
      content:""; position:fixed; inset:0; pointer-events:none; z-index:-1;
      background:
        linear-gradient(90deg, var(--line) 1px, transparent 1px var(--size)) 50% 50%/var(--size) var(--size),
        linear-gradient(var(--line) 1px, transparent 1px var(--size)) 50% 50%/var(--size) var(--size);
      mask: linear-gradient(-20deg, transparent 50%, white);
    }
    h1{margin:0; font-weight:800; letter-spacing:.02em; font-size:clamp(28px,6vw,72px); text-transform:lowercase;}
    .desc{margin:0; opacity:.8; width:74ch; max-width:calc(100% - 4rem); text-wrap:balance; line-height:1.5;}

    /* GRID CORE */
    ul#cards{
      display:grid;
      grid-template-columns: repeat(7, 1fr); /* JS가 활성 li를 10fr로 바꿈 */
      gap:var(--gap);
      list-style:none; padding:0; margin:0;
      height: clamp(300px, 40dvh, 474px);
      width: min(1000px, calc(100% - 2rem));
      transition:grid-template-columns var(--speed) var(--easing);
    }
    ul#cards > li{
      position:relative; min-width:var(--base);
      overflow:hidden; border-radius:8px;
      background: light-dark(#fff, #000);
      border:1px solid color-mix(in hsl, canvas, canvasText 50%);
      cursor:pointer;
    }
    article{
      width: calc(var(--article-width, 300) * 1px);
      height:100%;
      position:absolute; inset:0;
      display:flex; flex-direction:column; justify-content:flex-end;
      gap:1rem;
      padding-inline: calc(var(--base) * 0.5 - 9px);
      padding-bottom:1rem;
      overflow:hidden;
    }
    /* 세로 제목(책등) */
    article h3{
      position:absolute; top:1rem; left:calc(var(--base) * 0.5);
      transform-origin:0 50%; rotate:90deg;
      margin:0; font-size:1rem; font-weight:300; text-transform:uppercase; white-space:nowrap;
      opacity:.6; transition:opacity calc(var(--speed)*1.2) var(--easing);
    }
    article svg{width:18px; height:18px; fill:none; opacity:.6; transition:opacity calc(var(--speed)*1.2) var(--easing);}
    article p, article a{
      margin:0; opacity:0; transition:opacity calc(var(--speed)*1.2) var(--easing); width:fit-content;
    }
    article p{ font-size:13px; line-height:1.25; text-wrap:balance; }
    article a{ position:absolute; bottom:1rem; left:0; color:inherit; text-decoration:none; height:18px; line-height:18px; }
    article a span{ display:inline-block; translate: calc(var(--base) * 0.5) 0; text-underline-offset:4px; }
    article a:is(:hover,:focus-visible) span{ text-decoration:underline; }
    article img{
      position:absolute; inset:0; width:100%; height:100%; object-fit:cover; pointer-events:none;
      filter:grayscale(1) brightness(1.5);
      scale:1.1;
      transition-property: filter, scale;
      transition-duration: calc(var(--speed) * 1.2);
      transition-timing-function: var(--easing);
      mask: radial-gradient(100% 100% at 100% 0, #fff, #0000);
    }

    /* 활성 카드만 콘텐츠 표시 */
    li[data-active="true"] h3, li[data-active="true"] svg{ opacity:1; }
    li[data-active="true"] p, li[data-active="true"] a{ opacity:1; transition-delay: calc(var(--speed) * 0.25); }
    li[data-active="true"] img{ filter:grayscale(0) brightness(1); scale:1; transition-delay: calc(var(--speed) * 0.25); }

    /* JS 미작동 fallback: hover 시 최소한 보이게 */
    ul#cards:not(.js-ready) li:hover h3,
    ul#cards:not(.js-ready) li:hover svg,
    ul#cards:not(.js-ready) li:hover p,
    ul#cards:not(.js-ready) li:hover a{ opacity:1; }
    ul#cards:not(.js-ready) li:hover img{ filter:grayscale(0) brightness(1); scale:1; }

    /* 글리치(제목) */
    .glitch{ animation:glitch 380ms steps(2,end) 2; }
    @keyframes glitch{
      0%{ transform:translate(0); color:canvasText; text-shadow:none; }
      20%{ transform:translate(-1px,1px) skew(1deg); text-shadow:1px 0 #f0f,-1px 0 #0ff; }
      40%{ transform:translate(1px,-1px) skew(-1deg); text-shadow:-1px 0 #f00,1px 0 #0ff; }
      60%{ transform:translate(-1px,0); text-shadow:1px 0 #fff,-1px 0 #0ff; }
      80%{ transform:translate(0,1px); text-shadow:-1px 0 #f0f,1px 0 #fff; }
      100%{ transform:translate(0); text-shadow:none; }
    }
  </style>
</head>
<body>
  <h1 class="fluid">the craft of ui</h1>
  <p class="desc">
    Unlock the art and science of interface development. This isn’t just about pushing pixels or following documentation — it’s about mastering the tools, understanding the nuances, and shaping experiences with intention.
  </p>

  <ul id="cards">
    <li data-active="true">
      <article>
        <h3>The Craft</h3>
        <p>Gain the confidence to build anything you envision, transforming motion, interaction, and design principles into second nature.</p>
        <svg viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 3h12l4 6-10 13L2 9Z"/><path d="M11 3 8 9l4 13 4-13-3-6"/><path d="M2 9h20"/></svg>
        <a href="#"><span>Watch now</span></a>
        <img src="https://picsum.photos/720/720?random=12" alt="" />
      </article>
    </li>
    <li>
      <article>
        <h3>CSS Animation</h3>
        <p>Master CSS animations from your very first set of @keyframes right through to things no one else ever teaches you.</p>
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M7 3v18"/><path d="M3 7.5h4"/><path d="M3 12h18"/><path d="M3 16.5h4"/><path d="M17 3v18"/><path d="M17 7.5h4"/><path d="M17 16.5h4"/></svg>
        <a href="#"><span>Watch now</span></a>
        <img src="https://picsum.photos/720/720?random=17" alt="" />
      </article>
    </li>
    <li>
      <article>
        <h3>SVG Filters</h3>
        <p>Shaders on a budget. Learn how to use noise to your advantage whilst making flames and stickers.</p>
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/></svg>
        <a href="#"><span>Watch now</span></a>
        <img src="https://picsum.photos/720/720?random=19" alt="" />
      </article>
    </li>
    <li>
      <article>
        <h3>Scroll Animation</h3>
        <p>Take your users on a journey with the joy of tasteful scroll animation. You might not even need JavaScript.</p>
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 17V5a2 2 0 0 0-2-2H4"/><path d="M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3"/></svg>
        <a href="#"><span>Watch now</span></a>
        <img src="https://picsum.photos/720/720?random=42" alt="" />
      </article>
    </li>
    <li>
      <article>
        <h3>Taming Canvas</h3>
        <p>Grasp how to tame the pixel playground and when to do so. Whilst building with "Performance Driven Development".</p>
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="13.5" cy="6.5" r=".5" fill="currentColor"/><circle cx="17.5" cy="10.5" r=".5" fill="currentColor"/><circle cx="8.5" cy="7.5" r=".5" fill="currentColor"/><circle cx="6.5" cy="12.5" r=".5" fill="currentColor"/><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"/></svg>
        <a href="#"><span>Watch now</span></a>
        <img src="https://picsum.photos/720/720?random=128" alt="" />
      </article>
    </li>
    <li>
      <article>
        <h3>Layout Tricks</h3>
        <p>Do you really need a library for that? Sometimes stepping back and rethinking the problem yields a nifty solution.</p>
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72"/><path d="m14 7 3 3"/><path d="M5 6v4"/><path d="M19 14v4"/><path d="M10 2v2"/><path d="M7 8H3"/><path d="M21 16h-4"/><path d="M11 3H9"/></svg>
        <a href="#"><span>Watch now</span></a>
        <img src="https://picsum.photos/720/720?random=56" alt="" />
      </article>
    </li>
    <li>
      <article>
        <h3>Mastering Time</h3>
        <p>It's not all just easings and compositions. Time plays a crucial part in various UI patterns that might not seem obvious at first.</p>
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 22h14"/><path d="M5 2h14"/><path d="M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22"/><path d="M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2"/></svg>
        <a href="#"><span>Watch now</span></a>
        <img src="https://picsum.photos/720/720?random=39" alt="" />
      </article>
    </li>
  </ul>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const list = document.getElementById('cards') || document.querySelector('ul');
      if (!list) return;
      list.classList.add('js-ready');
      const items = Array.from(list.children).filter(n => n.tagName === 'LI');

      const activateIndex = (idx) => {
        items.forEach((el,i) => el.dataset.active = (i===idx).toString());
        const cols = items.map((_,i)=> i===idx ? '10fr' : '1fr').join(' ');
        list.style.gridTemplateColumns = cols;
      };

      const handler = (e) => {
        const li = e.target.closest('li');
        if (!li || !list.contains(li)) return;
        const idx = items.indexOf(li);
        if (idx < 0) return;
        activateIndex(idx);

        // 1% 확률 글리치
        if (Math.random() < 0.01) {
          const h3 = li.querySelector('h3');
          if (h3){
            h3.classList.add('glitch');
            h3.addEventListener('animationend', () => h3.classList.remove('glitch'), { once:true });
          }
        }
      };

      ['pointermove','mouseover','click','focusin','touchstart'].forEach(evt =>
        list.addEventListener(evt, handler, { passive: true })
      );

      const resync = () => {
        const w = Math.max(280, ...items.map(i => i.getBoundingClientRect().width|0));
        list.style.setProperty('--article-width', w);
      };
      window.addEventListener('resize', resync);
      resync();

      // 초기 활성 (data-active="true"가 있으면 그걸, 없으면 0번)
      const initial = Math.max(0, items.findIndex(li => li.dataset.active === 'true'));
      activateIndex(initial);
    });
  </script>
</body>
</html>
