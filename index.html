<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>the craft of ui</title>

  <!-- 영문: Inter / 한글: Pretendard(눈누) -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"
    rel="stylesheet"
  />
  <style>
  /* Pretendard from Noonnu (weights 400/600/700) */
  @font-face {
    font-family: 'Pretendard';
    src: url('https://cdn.jsdelivr.net/gh/Project-Noonnu/noonfonts_2107@1.1/Pretendard-Regular.woff') format('woff');
    font-weight: 400; font-style: normal; font-display: swap;
  }
  @font-face {
    font-family: 'Pretendard';
    src: url('https://cdn.jsdelivr.net/gh/Project-Noonnu/noonfonts_2107@1.1/Pretendard-SemiBold.woff') format('woff');
    font-weight: 600; font-style: normal; font-display: swap;
  }
  @font-face {
    font-family: 'Pretendard';
    src: url('https://cdn.jsdelivr.net/gh/Project-Noonnu/noonfonts_2107@1.1/Pretendard-Bold.woff') format('woff');
    font-weight: 700; font-style: normal; font-display: swap;
  }

  @import url('https://unpkg.com/normalize.css') layer(normalize);
  @layer normalize, base, demo;

  /* ================= DEMO ================= */
  @layer demo {
    body{
      background:#0d1a1f; color:#e6eef2;
      display:flex; flex-direction:column; align-items:center; justify-content:center;
      gap:1rem; padding-block:2rem; min-height:100svh;
      font-family: Inter, Pretendard, system-ui, -apple-system, "Segoe UI", Roboto,
                   "Apple SD Gothic Neo", "Malgun Gothic", "맑은 고딕", Arial, sans-serif;
    }
    h1,p{margin:0}

    /* 상단 제목: 첫 방문 1회 타이핑 */
    h1.fluid{
      font-size:clamp(28px,6vw,56px); font-weight:700; letter-spacing:.01em;
      opacity:0; transition:opacity .35s ease;
    }
    h1.fluid.show{opacity:1}

    /* 설명 */
    body>p{
      width:74ch; max-width:calc(100% - 4rem);
      text-wrap:balance; margin-bottom:4rem;
      line-height:1.55; opacity:.9; font-weight:400;
    }
    @media (max-width:768px){ body>p{ text-align:center } }

    /* 카드 컨텐츠 기본은 숨김(접힘) */
    li :is(a,p){ opacity:0; transition:opacity calc(var(--speed)*1.2) var(--easing); width:fit-content }
    li img{
      filter:grayscale(1) brightness(1.5); scale:1.08;
      transition-property:filter,scale;
      transition-duration:calc(var(--speed)*1.2);
      transition-timing-function:var(--easing);
    }
    [data-active="true"] :is(a,p){ opacity:1; transition-delay:calc(var(--speed)*.25) }
    [data-active="true"] img{ filter:grayscale(0) brightness(1); scale:1; transition-delay:calc(var(--speed)*.25) }

    /* 카드 레이아웃 */
    :root{
      --gap:8px;
      --base:clamp(2rem,8cqi,80px);
      --easing:linear(0 0%,.1538 4.09%,.2926 8.29%,.4173 12.63%,.5282 17.12%,.6255 21.77%,.7099 26.61%,.782 31.67%,.8425 37%,.8887 42.23%,.9257 47.79%,.9543 53.78%,.9752 60.32%,.9883 67.11%,.9961 75%,1 100%);
      --speed:.6s;
    }
    ul{
      display:grid; container-type:inline-size;
      /* ✅ 초기엔 전부 접힘 */
      grid-template-columns:repeat(7,1fr);
      gap:var(--gap); list-style:none; justify-content:center; padding:0;
      height:clamp(300px,40dvh,474px); margin:0; width:820px; max-width:calc(100% - 4rem);
      transition:grid-template-columns var(--speed) var(--easing);
    }
    li{
      background:#0f1b20; position:relative; overflow:hidden;
      min-width:var(--base); border-radius:10px; border:1px solid rgba(255,255,255,.12);
    }
    article{
      position:absolute; inset:0; width:calc(var(--article-width)*1px); height:100%;
      display:flex; flex-direction:column; justify-content:flex-end; gap:1rem;
      padding-inline:calc(var(--base)*.5 - 9px); padding-bottom:1rem; overflow:hidden;
    }
    /* 이미지가 텍스트를 가리지 않게 */
    article img{position:absolute; inset:0; width:100%; height:100%; object-fit:cover; z-index:0; mask:radial-gradient(100% 100% at 100% 0,#fff,#0000)}
    article :where(p,svg,a,.title){position:relative; z-index:1}
    article svg{width:18px; fill:none}
    article p{font-size:13px; text-wrap:balance; line-height:1.25}

    /* ---------- 제목 전환(세로 → 가로) ---------- */
    .title{
      position:absolute; inset:0; display:grid; place-items:center; pointer-events:none;
      font-weight:700; letter-spacing:.02em;
    }
    .title .t{
      position:absolute;
      transition:
        opacity .5s var(--easing),
        transform .5s var(--easing),
        filter .5s var(--easing);
      will-change: transform, opacity, filter;
    }

    /* 기본(접힘): 세로 제목 보임, 가로 제목 숨김  */
    li:not([data-active="true"]) .title .t-v{
      opacity:1; transform:translateY(0); filter:none;
    }
    li:not([data-active="true"]) .title .t-h{
      opacity:0; transform:translateY(8px) scale(.98); filter:blur(.3px);
    }

    /* 활성(hover/click): 가로 제목 등장, 세로 제목 페이드아웃 */
    li[data-active="true"] .title .t-v{
      opacity:0; transform:translateY(-6px) scale(.98); filter:blur(.4px);
    }
    li[data-active="true"] .title .t-h{
      opacity:1; transform:translate(0,0); filter:none;
    }

    /* 세로 제목 배치 (책등 느낌) */
    .title .t-v{
      writing-mode:vertical-rl; text-orientation:mixed;
      left:calc(var(--base)*.35); top:1rem; transform-origin:top left;
      font-weight:700; letter-spacing:.08em; font-size:.98rem;
      align-self:start; justify-self:start;
    }
    /* 가로 제목: 펼쳐졌을 때 상단 좌측 */
    .title .t-h{
      writing-mode:initial; white-space:nowrap; text-overflow:ellipsis; overflow:hidden;
      top:1rem; left:calc(var(--base) * .5);
      font-size:1rem; font-weight:700; text-transform:uppercase;
      transform-origin:left center;
    }
  }

  /* ================= BASE ================= */
  @layer base{
    :root{
      --font-size-min:16; --font-size-max:20; --font-ratio-min:1.2; --font-ratio-max:1.33;
      --font-width-min:375; --font-width-max:1500;
    }
    html{color-scheme:dark}
    :where(.fluid){
      /* 일부 브라우저 pow 미지원 -> 위 clamp 폴백 사용 */
      --fluid-min: calc(var(--font-size-min) * pow(var(--font-ratio-min), var(--font-level, 0)));
      --fluid-max: calc(var(--font-size-max) * pow(var(--font-ratio-max), var(--font-level, 0)));
      --fluid-preferred: calc((var(--fluid-max) - var(--fluid-min)) / (var(--font-width-max) - var(--font-width-min)));
      --fluid-type: clamp(
        (var(--fluid-min)/16)*1rem,
        ((var(--fluid-min)/16)*1rem) - (((var(--fluid-preferred)*var(--font-width-min))/16)*1rem) + (var(--fluid-preferred)*var(--variable-unit,100vi)),
        (var(--fluid-max)/16)*1rem
      );
      font-size:var(--fluid-type);
    }
    *,*:before,*:after{box-sizing:border-box}
    body{display:grid; place-items:center; min-height:100vh}
    /* 눈금/곰 제거 */
    .bear-link{display:none !important}
  }

  /* 배경 캔버스 */
  #bg-dots{position:fixed; inset:0; z-index:-1; pointer-events:none}
  </style>
</head>
<body>
  <!-- 움직이는 점 배경 -->
  <canvas id="bg-dots" aria-hidden="true"></canvas>

  <!-- 상단 제목(첫 방문 1회 타이핑) -->
  <h1 class="fluid">the craft of ui</h1>
  <p>
    Unlock the art and science of interface development. This isn’t just about
    pushing pixels or following documentation — it’s about mastering the
    tools, understanding the nuances, and shaping experiences with intention.
  </p>

  <!-- ✅ 초기 모두 접힘 (hover/click 시에만 펼침) -->
  <ul>
    <li>
      <article>
        <h3 class="title" aria-label="The Craft">
          <span class="t t-h">The Craft</span>
          <span class="t t-v" aria-hidden="true">The Craft</span>
        </h3>
        <p>Gain the confidence to build anything you envision, transforming motion, interaction, and design principles into second nature.</p>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 3h12l4 6-10 13L2 9Z"/><path d="M11 3 8 9l4 13 4-13-3-6"/><path d="M2 9h20"/></svg>
        <a href="#"><span>Watch now</span></a>
        <img src="https://picsum.photos/720/720?random=12" alt="" />
      </article>
    </li>
    <li>
      <article>
        <h3 class="title" aria-label="CSS Animation">
          <span class="t t-h">CSS Animation</span>
          <span class="t t-v" aria-hidden="true">CSS Animation</span>
        </h3>
        <p>Master CSS animations from your first @keyframes to the tricks nobody teaches.</p>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M7 3v18"/><path d="M3 7.5h4"/><path d="M3 12h18"/><path d="M3 16.5h4"/><path d="M17 3v18"/><path d="M17 7.5h4"/><path d="M17 16.5h4"/></svg>
        <a href="#"><span>Watch now</span></a>
        <img src="https://picsum.photos/720/720?random=17" alt="" />
      </article>
    </li>
    <li>
      <article>
        <h3 class="title" aria-label="SVG Filters">
          <span class="t t-h">SVG Filters</span>
          <span class="t t-v" aria-hidden="true">SVG Filters</span>
        </h3>
        <p>Use noise and filters to craft flames, stickers, and more — shaders on a budget.</p>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/></svg>
        <a href="#"><span>Watch now</span></a>
        <img src="https://picsum.photos/720/720?random=19" alt="" />
      </article>
    </li>
    <li>
      <article>
        <h3 class="title" aria-label="Scroll Animation">
          <span class="t t-h">Scroll Animation</span>
          <span class="t t-v" aria-hidden="true">Scroll Animation</span>
        </h3>
        <p>Guide users with tasteful, performance-first scroll effects.</p>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 17V5a2 2 0 0 0-2-2H4"/><path d="M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3"/></svg>
        <a href="#"><span>Watch now</span></a>
        <img src="https://picsum.photos/720/720?random=42" alt="" />
      </article>
    </li>
    <li>
      <article>
        <h3 class="title" aria-label="Taming Canvas">
          <span class="t t-h">Taming Canvas</span>
          <span class="t t-v" aria-hidden="true">Taming Canvas</span>
        </h3>
        <p>Tame the pixel playground with performance-driven patterns.</p>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="13.5" cy="6.5" r=".5" fill="currentColor"/><circle cx="17.5" cy="10.5" r=".5" fill="currentColor"/><circle cx="8.5" cy="7.5" r=".5" fill="currentColor"/><circle cx="6.5" cy="12.5" r=".5" fill="currentColor"/><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"/></svg>
        <a href="#"><span>Watch now</span></a>
        <img src="https://picsum.photos/720/720?random=128" alt="" />
      </article>
    </li>
    <li>
      <article>
        <h3 class="title" aria-label="Layout Tricks">
          <span class="t t-h">Layout Tricks</span>
          <span class="t t-v" aria-hidden="true">Layout Tricks</span>
        </h3>
        <p>Sometimes a rethink beats adding another library.</p>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72"/><path d="m14 7 3 3"/><path d="M5 6v4"/><path d="M19 14v4"/><path d="M10 2v2"/><path d="M7 8H3"/><path d="M21 16h-4"/><path d="M11 3H9"/></svg>
        <a href="#"><span>Watch now</span></a>
        <img src="https://picsum.photos/720/720?random=56" alt="" />
      </article>
    </li>
    <li>
      <article>
        <h3 class="title" aria-label="Mastering Time">
          <span class="t t-h">Mastering Time</span>
          <span class="t t-v" aria-hidden="true">Mastering Time</span>
        </h3>
        <p>Time isn’t just easing — treat it as a core design material.</p>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 22h14"/><path d="M5 2h14"/><path d="M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22"/><path d="M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2"/></svg>
        <a href="#"><span>Watch now</span></a>
        <img src="https://picsum.photos/720/720?random=39" alt="" />
      </article>
    </li>
  </ul>

  <script>
  /* ===== 카드 확장/접힘 (hover/click/focus) — 초기 전부 접힘 ===== */
  (() => {
    const list = document.querySelector('ul');
    if (!list) return;
    const items = list.querySelectorAll('li');

    function activate(index){
      items.forEach((li,i)=> li.dataset.active = (i===index).toString());
      const cols = [...items].map((_,i)=> i===index ? '10fr' : '1fr').join(' ');
      list.style.gridTemplateColumns = cols;
    }
    function collapse(){
      items.forEach(li=> li.dataset.active = 'false');
      list.style.gridTemplateColumns = `repeat(${items.length}, 1fr)`;
    }
    function setFromEvent(e){
      const li = e.target.closest('li');
      if (!li || !list.contains(li)) { collapse(); return; }
      activate([...items].indexOf(li));
    }

    list.addEventListener('pointermove', setFromEvent, {passive:true});
    list.addEventListener('click', setFromEvent);
    list.addEventListener('focusin', setFromEvent, true);
    list.addEventListener('pointerleave', collapse);
    list.addEventListener('focusout', (e)=> { if (!list.contains(e.relatedTarget)) collapse(); });

    collapse();

    // article width 동기화
    function resync(){
      const w = Math.max(...[...items].map(i=> i.offsetWidth || 0), 280);
      list.style.setProperty('--article-width', w);
    }
    addEventListener('resize', resync);
    resync();
  })();

  /* ===== 상단 제목: 첫 방문 1회만 타이핑 ===== */
  (() => {
    const h1 = document.querySelector('h1.fluid');
    if (!h1) return;
    const text = h1.textContent.trim();
    const seen = sessionStorage.getItem('__title_typed__') === '1';
    const reduce = matchMedia?.('(prefers-reduced-motion: reduce)').matches ?? false;

    function show(){ h1.classList.add('show'); }
    function typeOnce(speed = 38){
      h1.textContent = '';
      show();
      let i = 0;
      const id = setInterval(()=>{
        if (i >= text.length){
          clearInterval(id);
          sessionStorage.setItem('__title_typed__','1');
          return;
        }
        h1.append(text[i++]);
      }, speed);
    }

    if (reduce || seen){ h1.textContent = text; show(); }
    else { typeOnce(); }
  })();

  /* ===== 배경: 은은하게 움직이는 점(Canvas) ===== */
  (() => {
    const cvs = document.getElementById('bg-dots');
    if (!cvs) return;
    const ctx = cvs.getContext('2d', { alpha: true });

    let W=0, H=0, DPR=1, pts=[], last=0, raf=0;
    const OPT = {
      density: 0.00007,
      min: 70, max: 160,
      r: [0.7, 2.4],
      v: [3, 12],
      a: [0.05, 0.18],
      hz: [.10, .25],
      blur: 6
    };
    const reduce = matchMedia?.('(prefers-reduced-motion: reduce)').matches ?? false;
    const rnd = (a,b)=> a + Math.random()*(b-a);

    function resize(){
      DPR = Math.min(2, devicePixelRatio || 1);
      W = cvs.width  = Math.floor(innerWidth  * DPR);
      H = cvs.height = Math.floor(innerHeight * DPR);
      cvs.style.width  = innerWidth + 'px';
      cvs.style.height = innerHeight + 'px';
      spawn();
    }
    function spawn(){
      const area = innerWidth * innerHeight;
      const n = Math.max(OPT.min, Math.min(OPT.max, Math.round(area * OPT.density)));
      pts = Array.from({length:n}, () => {
        const r  = rnd(...OPT.r) * DPR;
        const sp = rnd(...OPT.v) * DPR;
        const a  = Math.random() * Math.PI * 2;
        return {
          x: Math.random()*W, y: Math.random()*H, r,
          vx: Math.cos(a)*sp, vy: Math.sin(a)*sp,
          h: 200 + Math.random()*20, s: 28 + Math.random()*18, l: 76 + Math.random()*8,
          alpha: rnd(...OPT.a),
          ph: Math.random()*Math.PI*2,
          f: rnd(...OPT.hz)*2*Math.PI
        };
      });
    }
    function frame(t){
      const dt = Math.min(.05, (t-(last||t))/1000); last = t;
      ctx.clearRect(0,0,W,H);
      ctx.globalCompositeOperation = 'lighter';
      for (const p of pts){
        p.ph += p.f * dt;
        const tw = .5 + .5*Math.sin(p.ph);
        const al = p.alpha * (.7 + .3*tw);
        ctx.shadowColor = `hsla(${p.h} ${p.s}% ${p.l}% / ${al*1.3})`;
        ctx.shadowBlur  = OPT.blur * DPR;
        ctx.fillStyle   = `hsla(${p.h} ${p.s}% ${p.l}% / ${al})`;
        ctx.beginPath(); ctx.arc(p.x, p.y, p.r, 0, Math.PI*2); ctx.fill();

        p.x += p.vx*dt; p.y += p.vy*dt;
        if (p.x < -5) p.x = W+5; else if (p.x > W+5) p.x = -5;
        if (p.y < -5) p.y = H+5; else if (p.y > H+5) p.y = -5;
      }
      raf = requestAnimationFrame(frame);
    }
    function start(){
      cancelAnimationFrame(raf); resize();
      if (reduce){ ctx.clearRect(0,0,W,H); return; }
      raf = requestAnimationFrame(frame);
    }
    addEventListener('resize', resize);
    start();
  })();
  </script>
</body>
</html>
