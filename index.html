<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <title>Animated UI Cards</title>
  <style>
    body {
      margin: 0;
      background: #0d1a1f;
      display: flex; justify-content: center; align-items: center;
      height: 100vh; font-family: monospace;
    }
    ul {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 8px;
      width: 90%; max-width: 1000px;
      height: 400px;
      padding: 0; margin:0; list-style:none;
      transition: grid-template-columns 0.6s linear;
    }
    li {
      position: relative;
      overflow: hidden;
      background: #222;
      border-radius: 8px;
      cursor: pointer;
      transition: flex 0.6s ease;
    }
    /* 내용 숨기기 */
    li article > *:not(h3) { opacity: 0; transition: opacity 0.6s ease; }
    li:hover article > *:not(h3) { opacity: 1; }

    article {
      position: absolute;
      inset: 0;
      padding: 1rem;
      display: flex; flex-direction: column; justify-content: flex-end;
      color: #eee;
    }

    h3 {
      writing-mode: vertical-rl;
      text-orientation: mixed;
      position: absolute;
      left: 8px; top: 8px;
      font-size: 1rem;
      text-transform: uppercase;
      opacity: 0.8;
      transition: opacity 0.3s;
    }
    .glitch {
      animation: glitch 0.4s steps(3, end) 2;
    }
    @keyframes glitch {
      0% { transform: translate(0); color:#eee; }
      20% { transform: translate(-2px, 2px) skew(2deg); color:#f0f; }
      40% { transform: translate(2px, -2px) skew(-2deg); color:#0ff; }
      60% { transform: translate(-1px, 1px); color:#fff; }
      80% { transform: translate(1px, -1px); color:#f00; }
      100% { transform: translate(0); color:#eee; }
    }
  </style>
</head>
<body>
  <ul>
    <li><article><h3>Craft</h3><p>Gain the confidence…</p></article></li>
    <li><article><h3>CSS</h3><p>Master animations…</p></article></li>
    <li><article><h3>Filters</h3><p>Shaders on a budget…</p></article></li>
    <li><article><h3>Scroll</h3><p>Tasteful scroll animation…</p></article></li>
    <li><article><h3>Canvas</h3><p>Tame the pixel playground…</p></article></li>
    <li><article><h3>Layout</h3><p>Nifty layout tricks…</p></article></li>
    <li><article><h3>Time</h3><p>Timing is everything…</p></article></li>
  </ul>

  <script>
    document.querySelectorAll("li").forEach((li, i, arr) => {
      li.addEventListener("mouseenter", ({ target }) => {
        const index = arr.indexOf(li);
        const cols = arr.map((_, idx) => idx === index ? "10fr" : "1fr").join(" ");
        li.parentElement.style.gridTemplateColumns = cols;

        // 1% 확률로 글리치
        if (Math.random() < 0.01) {
          const h3 = li.querySelector("h3");
          h3.classList.add("glitch");
          h3.addEventListener("animationend", () => {
            h3.classList.remove("glitch");
          }, { once: true });
        }
      });
    });
  </script>
</body>
</html>
